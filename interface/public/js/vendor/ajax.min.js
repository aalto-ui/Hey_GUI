!function(){function n(e,t,a){t=t||{};var n=new XMLHttpRequest;if(n.open(t.method||"GET",e,!0),"object"==typeof t.headers)for(var o in t.headers){var r=t.headers[o];n.setRequestHeader(o,r)}return t.type&&n.overrideMimeType(t.type),function(e,t){"function"==typeof t&&(t={complete:t});for(var a in t){var n=t[a];if("function"==typeof n){var o;switch(a){case"open":o=s;break;case"start":case"loadstart":o=c;break;case"progress":o=i;break;case"success":case"load":o=d;break;case"error":case"abort":case"timeout":o=u;break;case"complete":case"loadend":case"done":default:o=f}var r=o.bind(this,e,n);e.addEventListener("readystatechange",r,!1)}}}(n,a),n.send(t.body),n}function s(e,t){1===e.readyState&&t(e)}function c(e,t){2===e.readyState&&t(e)}function i(e,t){3===e.readyState&&t(e)}function d(e,t){4===e.readyState&&200===e.status&&t(a(e))}function u(e,t){4===e.readyState&&200!==e.status&&t(e)}function f(e,t){4===e.readyState&&(200!==e.status?t(e):t(null,a(e)))}function a(e){var t=e.responseText;try{t=JSON.parse(t)}catch(e){}return t}window.ajax={request:n,get:function(e,t){n(e,null,t)},post:function(e,t,a){n(e,{method:"POST",body:t},a)},loadJSON:function(e,t){n(e,{method:"GET",type:"application/json"},t)},sendJSON:function(e,t,a){n(e,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},a)}}}();